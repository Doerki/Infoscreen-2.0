/* LVB view controller */
(function(){
    "use strict";
	angular
		.module('wgscreen')
        .controller('lvbCtrl', ['$scope', '$http', '$routeParams',
            function($scope, $http, $routeParams) {
                console.log('open lvb page...');


                $http.post('php/stations.php', config.lvb)
                    .success(insertLVBData)
                    .error(function(data, status, headers, config) {
                        console.log("Error by getting data", data, status, headers, config);
                });


                function insertLVBData (data) {
                    console.log(data);
                    $scope.stations = data;
                }



                var sampledata = '{"lines":["9","10","11","70"],"stationName":"Leipzig, HTWK","journeys":[{"time":"12:14","timestamp":"2015-01-16+12:14","icon":"icon_tram.png","color":"FF3333","label":"Markkleeberg-Ost","hasProjectedTime":true,"shortLabel":"11","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":0,"sortIndexProjectedTime":0,"projectedTime":"12:16","timeDiffValue":2,"timeDiff":"+2","projectedTimestamp":"2015-01-16+12:16"},{"time":"12:16","timestamp":"2015-01-16+12:16","icon":"icon_tram.png","color":"ffcb08","label":"Thekla","hasProjectedTime":true,"shortLabel":"9","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":1,"sortIndexProjectedTime":1,"projectedTime":"12:17","timeDiffValue":1,"timeDiff":"+1","projectedTimestamp":"2015-01-16+12:17"},{"time":"12:18","timestamp":"2015-01-16+12:18","icon":"icon_tram.png","color":"FF3333","label":"Wahren","hasProjectedTime":true,"shortLabel":"10","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":3,"sortIndexProjectedTime":2,"projectedTime":"12:19","timeDiffValue":1,"timeDiff":"+1","projectedTimestamp":"2015-01-16+12:19"},{"time":"12:18","timestamp":"2015-01-16+12:18","icon":"icon_bus.png","color":"a5aaad","label":"Connewitz Kreuz","hasProjectedTime":true,"shortLabel":"70","infoMessages":[],"transportVehicle":"Bus","sortIndexScheduledTime":2,"sortIndexProjectedTime":3,"projectedTime":"12:20","timeDiffValue":2,"timeDiff":"+2","projectedTimestamp":"2015-01-16+12:20"},{"time":"12:19","timestamp":"2015-01-16+12:19","icon":"icon_tram.png","color":"FF3333","label":"Lößnig über Connewitz, Kreuz","hasProjectedTime":true,"shortLabel":"10","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":5,"sortIndexProjectedTime":4,"projectedTime":"12:21","timeDiffValue":2,"timeDiff":"+2","projectedTimestamp":"2015-01-16+12:21"},{"time":"12:19","timestamp":"2015-01-16+12:19","icon":"icon_tram.png","color":"ffcb08","label":"Markkleeberg-West","hasProjectedTime":true,"shortLabel":"9","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":4,"sortIndexProjectedTime":5,"projectedTime":"12:22","timeDiffValue":3,"timeDiff":"+3","projectedTimestamp":"2015-01-16+12:22"},{"time":"12:22","timestamp":"2015-01-16+12:22","icon":"icon_bus.png","color":"a5aaad","label":"Mockau-West","hasProjectedTime":true,"shortLabel":"70","infoMessages":[],"transportVehicle":"Bus","sortIndexScheduledTime":6,"sortIndexProjectedTime":6,"projectedTime":"12:22","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:22"},{"time":"12:23","timestamp":"2015-01-16+12:23","icon":"icon_tram.png","color":"FF3333","label":"Wahren","hasProjectedTime":true,"shortLabel":"11","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":7,"sortIndexProjectedTime":7,"projectedTime":"12:23","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:23"},{"time":"12:26","timestamp":"2015-01-16+12:26","icon":"icon_tram.png","color":"ffcb08","label":"Thekla","hasProjectedTime":true,"shortLabel":"9","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":9,"sortIndexProjectedTime":8,"projectedTime":"12:26","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:26"},{"time":"12:24","timestamp":"2015-01-16+12:24","icon":"icon_tram.png","color":"FF3333","label":"S-Bf.Connewitz, Klemmstraße","hasProjectedTime":true,"shortLabel":"11","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":8,"sortIndexProjectedTime":9,"projectedTime":"12:27","timeDiffValue":3,"timeDiff":"+3","projectedTimestamp":"2015-01-16+12:27"},{"time":"12:28","timestamp":"2015-01-16+12:28","icon":"icon_bus.png","color":"a5aaad","label":"Connewitz Kreuz","hasProjectedTime":false,"shortLabel":"70","infoMessages":[],"transportVehicle":"Bus","sortIndexScheduledTime":10,"sortIndexProjectedTime":10},{"time":"12:28","timestamp":"2015-01-16+12:28","icon":"icon_tram.png","color":"FF3333","label":"Wahren","hasProjectedTime":true,"shortLabel":"10","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":11,"sortIndexProjectedTime":11,"projectedTime":"12:28","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:28"},{"time":"12:29","timestamp":"2015-01-16+12:29","icon":"icon_tram.png","color":"ffcb08","label":"Markkleeberg-West","hasProjectedTime":true,"shortLabel":"9","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":12,"sortIndexProjectedTime":12,"projectedTime":"12:29","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:29"},{"time":"12:29","timestamp":"2015-01-16+12:29","icon":"icon_tram.png","color":"FF3333","label":"Lößnig über Connewitz, Kreuz","hasProjectedTime":true,"shortLabel":"10","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":13,"sortIndexProjectedTime":13,"projectedTime":"12:30","timeDiffValue":1,"timeDiff":"+1","projectedTimestamp":"2015-01-16+12:30"},{"time":"12:32","timestamp":"2015-01-16+12:32","icon":"icon_bus.png","color":"a5aaad","label":"Mockau-West","hasProjectedTime":true,"shortLabel":"70","infoMessages":[],"transportVehicle":"Bus","sortIndexScheduledTime":14,"sortIndexProjectedTime":14,"projectedTime":"12:32","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:32"},{"time":"12:33","timestamp":"2015-01-16+12:33","icon":"icon_tram.png","color":"FF3333","label":"Schkeuditz","hasProjectedTime":true,"shortLabel":"11","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":15,"sortIndexProjectedTime":15,"projectedTime":"12:33","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:33"},{"time":"12:34","timestamp":"2015-01-16+12:34","icon":"icon_tram.png","color":"FF3333","label":"Markkleeberg-Ost","hasProjectedTime":true,"shortLabel":"11","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":16,"sortIndexProjectedTime":16,"projectedTime":"12:34","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:34"},{"time":"12:36","timestamp":"2015-01-16+12:36","icon":"icon_tram.png","color":"ffcb08","label":"Thekla","hasProjectedTime":true,"shortLabel":"9","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":17,"sortIndexProjectedTime":17,"projectedTime":"12:36","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:36"},{"time":"12:38","timestamp":"2015-01-16+12:38","icon":"icon_tram.png","color":"FF3333","label":"Wahren","hasProjectedTime":true,"shortLabel":"10","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":19,"sortIndexProjectedTime":18,"projectedTime":"12:38","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:38"},{"time":"12:39","timestamp":"2015-01-16+12:39","icon":"icon_tram.png","color":"ffcb08","label":"Markkleeberg-West","hasProjectedTime":true,"shortLabel":"9","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":20,"sortIndexProjectedTime":19,"projectedTime":"12:39","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:39"},{"time":"12:38","timestamp":"2015-01-16+12:38","icon":"icon_bus.png","color":"a5aaad","label":"Connewitz Kreuz","hasProjectedTime":true,"shortLabel":"70","infoMessages":[],"transportVehicle":"Bus","sortIndexScheduledTime":18,"sortIndexProjectedTime":20,"projectedTime":"12:40","timeDiffValue":2,"timeDiff":"+2","projectedTimestamp":"2015-01-16+12:40"},{"time":"12:39","timestamp":"2015-01-16+12:39","icon":"icon_tram.png","color":"FF3333","label":"Lößnig über Connewitz, Kreuz","hasProjectedTime":true,"shortLabel":"10","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":21,"sortIndexProjectedTime":21,"projectedTime":"12:40","timeDiffValue":1,"timeDiff":"+1","projectedTimestamp":"2015-01-16+12:40"},{"time":"12:42","timestamp":"2015-01-16+12:42","icon":"icon_bus.png","color":"a5aaad","label":"Mockau-West","hasProjectedTime":false,"shortLabel":"70","infoMessages":[],"transportVehicle":"Bus","sortIndexScheduledTime":22,"sortIndexProjectedTime":22},{"time":"12:43","timestamp":"2015-01-16+12:43","icon":"icon_tram.png","color":"FF3333","label":"Wahren","hasProjectedTime":true,"shortLabel":"11","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":23,"sortIndexProjectedTime":23,"projectedTime":"12:43","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:43"},{"time":"12:44","timestamp":"2015-01-16+12:44","icon":"icon_tram.png","color":"FF3333","label":"S-Bf.Connewitz, Klemmstraße","hasProjectedTime":true,"shortLabel":"11","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":24,"sortIndexProjectedTime":24,"projectedTime":"12:44","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:44"},{"time":"12:46","timestamp":"2015-01-16+12:46","icon":"icon_tram.png","color":"ffcb08","label":"Thekla","hasProjectedTime":true,"shortLabel":"9","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":25,"sortIndexProjectedTime":25,"projectedTime":"12:46","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:46"},{"time":"12:48","timestamp":"2015-01-16+12:48","icon":"icon_bus.png","color":"a5aaad","label":"Connewitz Kreuz","hasProjectedTime":true,"shortLabel":"70","infoMessages":[],"transportVehicle":"Bus","sortIndexScheduledTime":26,"sortIndexProjectedTime":26,"projectedTime":"12:48","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:48"},{"time":"12:48","timestamp":"2015-01-16+12:48","icon":"icon_tram.png","color":"FF3333","label":"Wahren","hasProjectedTime":true,"shortLabel":"10","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":27,"sortIndexProjectedTime":27,"projectedTime":"12:48","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:48"},{"time":"12:49","timestamp":"2015-01-16+12:49","icon":"icon_tram.png","color":"ffcb08","label":"Markkleeberg-West","hasProjectedTime":true,"shortLabel":"9","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":28,"sortIndexProjectedTime":28,"projectedTime":"12:49","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:49"},{"time":"12:49","timestamp":"2015-01-16+12:49","icon":"icon_tram.png","color":"FF3333","label":"Lößnig über Connewitz, Kreuz","hasProjectedTime":true,"shortLabel":"10","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":29,"sortIndexProjectedTime":29,"projectedTime":"12:49","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:49"},{"time":"12:52","timestamp":"2015-01-16+12:52","icon":"icon_bus.png","color":"a5aaad","label":"Mockau-West","hasProjectedTime":true,"shortLabel":"70","infoMessages":[],"transportVehicle":"Bus","sortIndexScheduledTime":30,"sortIndexProjectedTime":30,"projectedTime":"12:52","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:52"},{"time":"12:53","timestamp":"2015-01-16+12:53","icon":"icon_tram.png","color":"FF3333","label":"Schkeuditz","hasProjectedTime":true,"shortLabel":"11","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":31,"sortIndexProjectedTime":31,"projectedTime":"12:53","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:53"},{"time":"12:54","timestamp":"2015-01-16+12:54","icon":"icon_tram.png","color":"FF3333","label":"Markkleeberg-Ost","hasProjectedTime":true,"shortLabel":"11","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":32,"sortIndexProjectedTime":32,"projectedTime":"12:54","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:54"},{"time":"12:56","timestamp":"2015-01-16+12:56","icon":"icon_tram.png","color":"ffcb08","label":"Thekla","hasProjectedTime":true,"shortLabel":"9","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":33,"sortIndexProjectedTime":33,"projectedTime":"12:56","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:56"},{"time":"12:58","timestamp":"2015-01-16+12:58","icon":"icon_tram.png","color":"FF3333","label":"Wahren","hasProjectedTime":true,"shortLabel":"10","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":35,"sortIndexProjectedTime":34,"projectedTime":"12:58","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:58"},{"time":"12:58","timestamp":"2015-01-16+12:58","icon":"icon_bus.png","color":"a5aaad","label":"Connewitz Kreuz","hasProjectedTime":true,"shortLabel":"70","infoMessages":[],"transportVehicle":"Bus","sortIndexScheduledTime":34,"sortIndexProjectedTime":35,"projectedTime":"12:59","timeDiffValue":1,"timeDiff":"+1","projectedTimestamp":"2015-01-16+12:59"},{"time":"12:59","timestamp":"2015-01-16+12:59","icon":"icon_tram.png","color":"ffcb08","label":"Markkleeberg-West","hasProjectedTime":true,"shortLabel":"9","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":36,"sortIndexProjectedTime":36,"projectedTime":"12:59","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:59"},{"time":"12:59","timestamp":"2015-01-16+12:59","icon":"icon_tram.png","color":"FF3333","label":"Lößnig über Connewitz, Kreuz","hasProjectedTime":true,"shortLabel":"10","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":37,"sortIndexProjectedTime":37,"projectedTime":"12:59","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+12:59"},{"time":"13:02","timestamp":"2015-01-16+13:02","icon":"icon_bus.png","color":"a5aaad","label":"Mockau-West","hasProjectedTime":true,"shortLabel":"70","infoMessages":[],"transportVehicle":"Bus","sortIndexScheduledTime":38,"sortIndexProjectedTime":38,"projectedTime":"13:02","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+13:02"},{"time":"13:03","timestamp":"2015-01-16+13:03","icon":"icon_tram.png","color":"FF3333","label":"Wahren","hasProjectedTime":true,"shortLabel":"11","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":39,"sortIndexProjectedTime":39,"projectedTime":"13:03","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+13:03"},{"time":"13:04","timestamp":"2015-01-16+13:04","icon":"icon_tram.png","color":"FF3333","label":"S-Bf.Connewitz, Klemmstraße","hasProjectedTime":true,"shortLabel":"11","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":40,"sortIndexProjectedTime":40,"projectedTime":"13:04","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+13:04"},{"time":"13:06","timestamp":"2015-01-16+13:06","icon":"icon_tram.png","color":"ffcb08","label":"Thekla","hasProjectedTime":true,"shortLabel":"9","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":41,"sortIndexProjectedTime":41,"projectedTime":"13:06","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+13:06"},{"time":"13:08","timestamp":"2015-01-16+13:08","icon":"icon_bus.png","color":"a5aaad","label":"Connewitz Kreuz","hasProjectedTime":true,"shortLabel":"70","infoMessages":[],"transportVehicle":"Bus","sortIndexScheduledTime":42,"sortIndexProjectedTime":42,"projectedTime":"13:08","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+13:08"},{"time":"13:08","timestamp":"2015-01-16+13:08","icon":"icon_tram.png","color":"FF3333","label":"Wahren","hasProjectedTime":true,"shortLabel":"10","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":43,"sortIndexProjectedTime":43,"projectedTime":"13:08","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+13:08"},{"time":"13:09","timestamp":"2015-01-16+13:09","icon":"icon_tram.png","color":"ffcb08","label":"Markkleeberg-West","hasProjectedTime":true,"shortLabel":"9","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":44,"sortIndexProjectedTime":44,"projectedTime":"13:09","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+13:09"},{"time":"13:09","timestamp":"2015-01-16+13:09","icon":"icon_tram.png","color":"FF3333","label":"Lößnig über Connewitz, Kreuz","hasProjectedTime":true,"shortLabel":"10","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":45,"sortIndexProjectedTime":45,"projectedTime":"13:09","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+13:09"},{"time":"13:12","timestamp":"2015-01-16+13:12","icon":"icon_bus.png","color":"a5aaad","label":"Mockau-West","hasProjectedTime":true,"shortLabel":"70","infoMessages":[],"transportVehicle":"Bus","sortIndexScheduledTime":46,"sortIndexProjectedTime":46,"projectedTime":"13:12","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+13:12"},{"time":"13:13","timestamp":"2015-01-16+13:13","icon":"icon_tram.png","color":"FF3333","label":"Schkeuditz","hasProjectedTime":true,"shortLabel":"11","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":47,"sortIndexProjectedTime":47,"projectedTime":"13:13","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+13:13"},{"time":"13:14","timestamp":"2015-01-16+13:14","icon":"icon_tram.png","color":"FF3333","label":"Markkleeberg-Ost","hasProjectedTime":false,"shortLabel":"11","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":48,"sortIndexProjectedTime":48},{"time":"13:16","timestamp":"2015-01-16+13:16","icon":"icon_tram.png","color":"ffcb08","label":"Thekla","hasProjectedTime":true,"shortLabel":"9","infoMessages":[],"transportVehicle":"Tram","sortIndexScheduledTime":49,"sortIndexProjectedTime":49,"projectedTime":"13:16","timeDiffValue":0,"timeDiff":"+0","projectedTimestamp":"2015-01-16+13:16"}],"laterLink":"http://hn1.the-agent-factory.de/easygo2/rest/regions/MDV/modules/stationmon…nsportFilter=00011111&hafasID=13247%2C11563&mode=DEP&time=2015-01-16+12:31","infoMessages":[],"styles":[{"internalName":"HAVAG"},{"internalName":"LVB_DB"}],"refreshTime":1}';

                var encSampleData = JSON.parse(sampledata);
                console.log(encSampleData);
                //$scope.stations = encSampleData;
        }]);
}());
